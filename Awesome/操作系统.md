# 《操作系统》



## 进程管理

- CPU调度

  - 什么时候会发生 CPU 调度

    1. 当进程从运行状态转到等待状态；
    2. 当进程从运行状态转到就绪状态；
    3. 当进程从等待状态转到就绪状态；
    4. 当进程从运行状态转到终止状态；

    其中发生在 1 和 4 两种情况下的调度称为「非抢占式调度」，2 和 3 两种情况下发生的调度称为「抢占式调度」。

  - 非抢占式

    当进程正在运行时，它就会一直运行，直到该进程完成或发生某个事件而被阻塞时，才会把 CPU 让给其他进程。

  * 抢占式调度

    顾名思义就是进程正在运行的时，可以被打断，使其把 CPU 让给其他进程。那抢占的原则一般有三种，分别是时间片原则、优先权原则、短作业优先原则。

  * 算法
    - 先来先服务调度算法
    - 最短作业优先调度算法
    - 高响应比优先调度算法
    - 时间片轮转调度算法
    - 最高优先级调度算法
    - 多级反馈队列调度算法

- [进程和线程](https://blog.csdn.net/weixin_43517199/article/details/89508381)

- 进程间通信

  [管道](https://www.cnblogs.com/zengyiwen/p/5755170.html)，消息队列，共享内存

- 死锁



## 内存管理

- 分页管理

  **页、块、页表：**

  将虚拟地址空间以512Byte ~ 8K，作为一个单位，称为**页**，并从0开始依次对每一个页编号。

  将物理地址按照同样的大小，作为一个单位，称为**框**或者**块**，也从0开始依次对每一个框编号。 

  操作系统通过维护一张表，这张表上记录了每一对页和框的映射关系，这张表，称为**页表**。 

  **访问：**

  当CPU要访问一个虚拟地址空间对应的物理内存地址时，先将具体的虚拟地址A/页面大小4K，结果的商作为页表号，结果的余作为业内地址偏移。 
  
- 内存页面置换

  * 缺页中断

    当 CPU 访问的页面不在物理内存时，便会产生一个缺页中断，请求操作系统将所缺页调入到物理内存

  * 页面置换算法
    - 最佳页面置换算法（*OPT*）
    - 先进先出置换算法（*FIFO*）
    - 最近最久未使用的置换算法（*LRU*）
    - 时钟页面置换算法（*Lock*）
    - 最不常用置换算法（*LFU*）



## 磁盘

* 磁盘寻道算法



## 其他

- 设备管理
- 虚拟内存和 swap 分区
- Windows
  - hiberfil.sys 和 pagefile.sys 占用系统空间，其分别是休眠空间和虚拟内存。